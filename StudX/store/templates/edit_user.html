{% extends 'base.html' %}

{% block content %}
    <section class="item-section">
        <div class="form-container-selpro">
            <h2>Edit Your Profile</h2>

            <!-- Display Form -->
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {#                {{ form.as_p }}#}


                <!-- Seller Name -->
                <div class="form-group">
                    <label for="{{ form.seller_name.id_for_label }}">Seller Name</label>
                    {{ form.seller_name }}
                </div>

                <!-- Address -->
                <div class="form-group">
                    <label for="{{ form.address.id_for_label }}">Address</label>
                    {{ form.address }}
                </div>

                <!-- Phone Number -->
                <div class="form-group">
                    <label for="{{ form.phone_number.id_for_label }}">Phone Number</label>
                    {{ form.phone_number }}
                </div>

                <!-- Citizenship Number -->
                <div class="form-group">
                    <label for="{{ form.citizenship_number.id_for_label }}">Citizenship Number</label>
                    {{ form.citizenship_number }}
                </div>

                <!-- Date of Birth -->
                <div class="form-group">
                    <label for="{{ form.dob.id_for_label }}">Date of Birth</label>
                    {{ form.dob }}
                </div>
                <div class="form-group">
                    <label for="{{ form.photo.id_for_label }}">Profile Photo</label>

                    {% if form.photo.value %}
                        <!-- Show current photo -->
                        <div class="photo-preview">
                            <img src="{{ form.photo.value.url }}" alt="Current Profile Photo" width="150px"
                                 height="150px">

                            <!-- Clear button (set the photo field to null) -->
                            <button type="button" id="clear-photo" class="clear-photo-button">Clear</button>
                        </div>
                    {% endif %}

                    {{ form.photo }}
                </div>
                <button type="submit" class="blue-button">Save Changes</button>

            </form>
        </div>
    </section>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const clearButton = document.getElementById('clear-photo');
            const photoField = document.getElementById('id_photo');
            const photoPreview = document.querySelector('.photo-preview img');

            if (clearButton) {
                clearButton.addEventListener('click', function () {
                    // Clear the file input (remove the photo)
                    photoField.value = null;

                    // Optionally, hide the preview and the "Clear" button
                    photoPreview.style.display = 'none';
                    clearButton.style.display = 'none';
                });
            }
        });
    </script>
{% endblock %}